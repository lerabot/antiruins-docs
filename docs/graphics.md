# üñåÔ∏è GRAPHICS

> ANTIRUINS uses centered coordinate for drawing. This makes sprite rotation simpler to handle.


    
## Texture
The PVR only supports pow2 sized texture (8, 16, 32, 64, 128, 256, 512, 1024px).
You can load .png files, but they takes some time to decompress, a much better alternative are .dtex file generated by pvrtex and texconv.

    local TEXTURE = {
      texture   = id, -- texture ID used by the C engine
      filename  = "",
      w, h      = 0, 0,
      palette = { -- if you use paletted texture.
        index = 0,
        size = 0,
        colors = {}
      }
    }


## Font
    
The fonts are loaded as a bitmap font atlas, starting at character 32 (space). *graphics.loadFont* expect a column and row integer. For this example, there are 16 rows and 8 columns in this 512x256 textures.
There is a Processing sketch included in the tool folder that can help you generate a font atlas. There are also some other fonts in the default folder.
    
    local FONT = {
      texture = 0,  -- texture ID used by the engine 
      charW   = 0,  -- char width
      size    = 16,
      type    = "font",
    }
    
## Palette
    
    local PALETTE = {
      size = 16, --16(4BPP) or 256(8BPP) palette size 
      index = 0, --the location of the palette (between 1 and 1024), 0 is no palette.
      colors = {}, --table of {r,g,b,a} values (between 0.0 and 1.0)
    }

---


`graphics.loadTexture(filename)`
: Loads a pow2 .png or .dtex image. Returns a *texture.*
---
`graphics.freeTexture(texture)`
: Frees the texture data.
---
`graphics.drawTexture(texture, x, y, *scaleX, scaleY, angle, uv*)`
: Draws a *texture* at x-y position. scaleX/ycaleY are floats. UV is a table with 4 x 0.0 - 1.0 uv coordinate.
---
`graphics.setDrawColor(r,g,b,a)`
: Set the color (0.0 - 1.0) of future texture, shape, text.
---
`graphics.setClearColor(r,g,b,a)`
: Set the color (0.0 - 1.0) of the background.
---
`graphics.loadFont(filename, col, row, *fontSize*)`
: Loads a pow2 .png or .dtex image. Returns a *font.* [Read the font documentation](https://www.notion.so/ANTIRUINS-Documentation-157fdbfe0b3180b6a7c4d0560fb84742?pvs=21)
---
`graphics.print(text, x, y, *center*)`
: Prints text at x-y position. If center is true, the text is centered.
---
`graphics.setFontSize(fontSize)`
: Sets the font size.
---
`graphics.drawRect(x, y, w, h, *mode*)`
: Draws a rectangle. If mode is *‚Äúcorners‚Äù*, x and y becomes top-left coordinates.
---
`graphics.drawLine(x1, y1, x2, y2, width)`
: Draws a line from (x1, y1) to (x2, y2) with the specified width.
---
`graphics.playVideo(videoFile, x, y, w, h)`
: Plays a video file at the specified position and size.
---
`graphics.loadPalette(file)`
: Returns a *palette* from a .dtex.pal file.
---
`graphics.setPalette(texture, palette)`
: Replaces a texture palette with the provided *palette*.
---
`graphics.setPaletteColor(palette, colorNum, r,g,b,a)`
: Set a single color in a specified *palette.* The ‚Äòr‚Äô argument can be a {r,g,b,a} table.
