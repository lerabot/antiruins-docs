{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to ANTIRUINS Engine","text":"<p>Easy to use, pre-compiled 2D game engine for the SEGA Dreamcast and PC.</p> <p>ANTIRUINS engine was initally developped for Fragmented Almanac, a SEGA Dreamcast game released in 2024. </p> <p>The engine is now free to use, for personal and commercial project, with source corde available on demand.</p>"},{"location":"#features","title":"Features:","text":"<ul> <li>Lua programming language.</li> <li>Loads .png and .dtex files with palette support.</li> <li>2D engine with spritesheet support.</li> <li>Sound effect using .wav file.</li> <li>Audio streaming using CDDA and .wav files.</li> <li>Tiled map support.</li> <li>Basic collision system.</li> <li>VMU save + load, VMU bitmap display.</li> </ul>"},{"location":"audio/","title":"Audio","text":""},{"location":"audio/#audio","title":"\ud83d\udd0a AUDIO","text":"<ul> <li> <p>audio types</p> <pre><code>audio.SFX  -- Used for short sound sample, one shots, etc. The sound is loaded directly in memory. Must be a .wav files under 65k samples.\naudio.WAV  -- Used for audio streaming. Must be a .wav file.\naudio.CDDA -- Used for CDDA audio streaming. Filename will be the track number (0-99) and the file must be placed in the audio directory at the root of the engine.\n</code></pre> </li> <li> <p>source</p> <pre><code>local source = {\n  loaded    = false,\n  id        = 0,\n  channel   = -1,\n  volume    = 220, --0, 254\n  isPlaying = false,\n  type      = audio.SFX,\n}\n</code></pre> </li> </ul> audio.load(filename, type) Loads a .wav (audio.SFX or audio.WAV) file. Returns a source. Type must be audio.SFX, audio.WAV or audio.CDDA audio.play(source, volume, loop) Plays a source at 0-255 volume. audio.setVolume(source, volume) Sets the volume of a playing source. audio.free(source) Frees the memory of a loaded source. audio.isPlaying(source) audio.pause(source) audio.stop(source) audio.setPan(source, pan) Sets pan. 128 is center, 0 is full left, 255 is full right. Only works on .SFX type sound."},{"location":"config/","title":"Config","text":""},{"location":"config/#configure","title":"CONFIGURE","text":"<p>```lua -- config.lua holds some configuration for the engine -- the most important is which game to load by default.</p> <p>local config = {     games = {         {dir=\"game_example\", name=\"Example\"},         {dir=\"game_tower\",   name=\"Tower\"},     },     -- Default game to load     defaultGame = \"Example\",</p> <pre><code>    -- console output - disable this is you get slowdowns using BBA or Serial.\n    contole = true,\n\n-- Path for lackages, libraries. The require function.\n-- Don't forget to add a semicolom at the end. ' ; '\nreqPath = \"lua/?.lua;\" .. \"lua/lib/?.lua;\",\n</code></pre> <p>} return config</p>"},{"location":"graphics/","title":"\ud83d\udd8c\ufe0f GRAPHICS","text":"<p>Note</p> <p>ANTIRUINS uses center coordinate for drawing.</p>"},{"location":"graphics/#textures","title":"Textures","text":"<p>The PVR only supports pow2 sized texture from 8px to 1024px.</p> <p>You can load .png files, but they takes some time to decompress, a much better alternative are .dtex file generated by pvrtex and texconv.</p> <pre><code>local TEXTURE = {\n  texture   = id,   -- texture ID used by the C engine\n  filename  = \"\",\n  w, h      = 0, 0,\n  palette   = {     -- if you use paletted texture.\n      index   = 0,\n      size    = 0,\n      colors  = {}\n  }\n}\n</code></pre> <pre><code>function graphics.loadTexture(filename)\n-- Loads a pow2 .png or .dtex image. Returns a texture.\n</code></pre> <pre><code>function graphics.freeTexture(texture)\n-- Frees the texture data.\n</code></pre> <pre><code>function graphics.drawTexture(texture, x, y, scaleX, scaleY, angle, uv)\n-- Draws a texture at x-y position. \n-- OPTIONAL : scaleX and scaleY are floats. \n-- OPTIONAL : angle is represented in degree.\n-- OPTIONAL : uv is a table with 4 x 0.0 - 1.0 UV coordinates.\n</code></pre>"},{"location":"graphics/#fonts","title":"Fonts","text":"<p>The fonts are loaded as a bitmap font atlas, starting at character 32 (space).  There is a Processing sketch included in the tool folder that can help you generate a font atlas.  You can also find some other fonts in the default folder.</p> <pre><code>local FONT = {\n  texture = 0,  -- texture ID used by the engine \n  charW   = 0,  -- char width\n  size    = 16,\n}\n</code></pre> <pre><code>function graphics.loadFont(filename, col, row, fontSize)\n-- Loads a pow2 .png or .dtex image. Returns a font.\n</code></pre> <pre><code>function graphics.print(text, x, y, center)\n-- Prints text at x-y position. If `center` is true, the text is centered.\n</code></pre> <pre><code>function graphics.setFontSize(fontSize)\n-- Sets the current font size.\n</code></pre>"},{"location":"graphics/#palettes","title":"Palettes","text":"<p>The Dreamcast has an internal palette of 1024 colors. You can take advantage of this by loaded paletted .dtex files. Paletted texture reduce the memory of texture to 50% (8BPP) or 25% (4BPP) compared to RGB images.</p> <pre><code>local PALETTE = {\n  size    = 16,  --16(4BPP) or 256(8BPP) palette size \n  index   = 0,   --the location of the palette (between 1 and 1024), 0 is no palette.\n  colors  = {},  --table of {r,g,b,a} values (between 0.0 and 1.0)\n}\n</code></pre> <pre><code>function graphics.loadPalette(file)\n-- Returns a palette from a .dtex.pal file.\n</code></pre> <pre><code>function graphics.setPalette(texture, palette)\n-- Replaces a texture palette with the provided palette.\n</code></pre> <pre><code>function graphics.setPaletteColor(palette, colorNum, r, g, b, a)\n-- Sets a single color in a specified palette \n-- The `r` argument can be a {r, g, b, a} table.\n</code></pre>"},{"location":"graphics/#colors","title":"Colors","text":"<pre><code>function graphics.setDrawColor(r, g, b, a)\n-- Sets the color (0.0 - 1.0) of future textures, shapes, texts, etc.\n</code></pre> <pre><code>function graphics.setClearColor(r, g, b, a)\n-- Sets the color (0.0 - 1.0) of the background.\n</code></pre>"},{"location":"graphics/#shapes","title":"Shapes","text":"<p><pre><code>function graphics.drawRect(x, y, w, h, mode)\n</code></pre> Draws a rectangle. If <code>mode</code> is \u201ccorners\u201d, x and y become top-left coordinates.</p> <p><pre><code>function graphics.drawLine(x1, y1, x2, y2, width)\n</code></pre> Draws a line from (x1, y1) to (x2, y2) with the specified width.</p>"},{"location":"graphics/#video","title":"Video","text":"<p>ANTIRUINS supports ROQ video files.</p> <p><pre><code>function graphics.playVideo(videoFile, x, y, w, h)\n</code></pre> Plays a video file at the specified position and size.</p>"},{"location":"input/","title":"\ud83c\udfae INPUT","text":""},{"location":"input/#button-names","title":"Button names","text":"<pre><code>    local buttons = {\"A\", \"B\", \"X\", \"Y\", \"UP\", \"DOWN\", \"LEFT\", \"RIGHT\", \"START\"}\n</code></pre> <pre><code>    input.getButton(button, controllerNumber)\n</code></pre> <p>Returns true/false if button has been pressed.</p> <p><code>input.getButtonDown(button, *controllerNumber*)</code> : Returns true/false if button is being held.</p> <p><code>input.getJoystick(*controllerNumber*)</code> : Returns the joystick position as a vector.</p> <p><code>input.getTriggers(*controllerNumber*)</code> : Returns both triggers as a vector.</p>"},{"location":"install/","title":"Installation Guide","text":""},{"location":"install/#install","title":"INSTALL","text":"<ol> <li>Download the engine from itch.io and decompress it somewhere on your computer.</li> <li>Run <code>make dependency</code> to install mkdcdisc, lxdream-nitro, love2d, dc-tools and texconv.</li> <li>Make a new game using <code>make new NAME=game_name</code>. Don\u2019t forget to add the game to the config.lua file. </li> </ol>"},{"location":"utilities/","title":"\ud83d\udee0\ufe0f UTILITIES","text":"Functions Description findFile(filename) Returns a path if the filename is found on the /cd, /rd, /pc and or in the loaded game folder. getUS() Returns the current microseconds since game as started. getMS() Returns the current millisecond since game as started. getFPS() Returns the current frame per seconds. mountRomdisk(fileName, mountpoint) Mount a romdisk at specified mountpoint. The most common mountpoint is \u201c/rd\u201d unmountRomdisk(mountpoint) Unmount the specified mountpoint and frees up memory."},{"location":"vmu/","title":"VMU","text":""},{"location":"vmu/#vmu","title":"\ud83d\udcbe VMU","text":"<ul> <li> <p>save</p> <pre><code>Keep these in mind when you create a new savefile:\n    gameName  - 16 character long.\n    saveName  - 26 character long.\n    descShort - 16 character long.\n    descLong  - 32 character long.\n    saveID    - from 1 to 3.\n\nYou should be able to save just about any Lua table on the VMU.\n</code></pre> </li> <li> <p>vmu animation</p> <pre><code>  -- To display images on the VMU, you need to create \u201canimations\u201d. \n  -- These animations can be 1 frame long (static). \n  -- To load multiple frames, they need a number suffix (frame1.bin, frame2.bin, frame3.bin, etc)\n\n  local animatation = {\n    icon      = {},  -- image data\n    cFrame    = 1,   -- current frame displayed\n    length    = frameNum or 1,\n    speed     = speed or 1,\n    priority  = priority or 1,\n    active    = false,\n    filename  = filename,\n}\n</code></pre> </li> </ul> vmu.checkForVMU() Check if there is a valid VMU present. vmu.initSavefile(gameName, saveName, descLong, descShort, saveID) Read the save notes. vmu.checkForSave(saveID) Check if a save file exists with the gameName and saveName specified in the saveID. vmu.saveGame(saveID, data) Save the data table in specified saveID. data can be any valid Lua Table. vmu.loadGame(saveID) Returns a data table from vmu.deleteGame(saveID) vmu.createAnimation(filename, frameNum, speed, priority) Returns an animation. Read the vmu animation notes. vmu.setScreen(animation, frame) Displays the frame (integer) of specified animation. vmu.playAnimation(animation, repeats, clearAfter) Displays an animation for repeat number of time. If clearAfter is true, the VMU image will be cleared once the animation is done. vmu.clearScreen() Clears the VMU screen. vmu.freeAnimation(animation) Frees the memory of the animation."}]}